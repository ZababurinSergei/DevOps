<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="./services/webgpu/src/this/css/index.light.css" rel="stylesheet"/>
    <script src="./services/webgpu/src/component/nk-memory/this/mjs/terminal/modules/xterm/lib/xterm.js"></script>
    <script src="./services/webgpu/src/component/nk-memory/this/mjs/terminal/modules/local-echo/dist/local-echo.js"></script>
    <script src="./services/webgpu/src/component/nk-memory/this/mjs/terminal/modules/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
    <script src="./services/webgpu/src/component/nk-memory/this/mjs/terminal/modules/xterm-addon-web-links/lib/xterm-addon-web-links.js"></script>
    <title>DevOps</title>
    <link rel="shortcut icon"
          href="data:image/png;base64, AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbbv+DGW3/mRlt/5kZbf+ZGq6/hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGa3/ohkt/7/Zbj//2S3/v9lt/6WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGm5/iRlt/74Zbj//2W4//9luP//Zbf++mi4/i4gIPciGhr24hsb9uwbG/bsGhr24CEh9xoAAAAAAAAAAAAAAABnuP5mZLf+/2W4//9luP//Zbj//2S3/v9muP5yGBj2rhMT9v8TE/b/ExP2/xMT9f8YGPWkAAAAAAAAAAAAAAAAb7z/BGW3/tZluP//Zbj//2W4//9lt/7gJzH3ShMT9f8TE/b/ExP2/xMT9v8TE/b/ExP1/CAg9joAAAAAAAAAAAAAAABmuP5GZLf+6GS3/uhkt/7oZbf+UhgY9YQSEvX/ExP2/xMT9v8TE/b/ExP2/xIS9f8aGvZ8AAAAAD4++gQgIPZ6IiL2hiIi9oYgIPZ8KCj5BAAAAAAtLfgUFBT17BMT9v8TE/b/ExP2/xMT9v8VFfXoLCz4DgAAAAAaGvZqEhL1/xMT9v8TE/b/EhL1/xsb9nIAAAAAAAAAABwc9m4SEvX/ExP2/xMT9v8SEvX/HR32ZAAAAAAnJ/gSFRX16hMT9v8TE/b/ExP2/xMT9v8UFPXuJyf4Fp2xlAKNnqUYLC/mfhYW83ATE/VuFxf1aDc3+gIAAAAAGBj1fhIS9f8TE/b/ExP2/xMT9v8TE/b/ExP1/xkZ9YaGn3yIhZ57/4Wee/+Gn3yKAAAAAAAAAAAAAAAAAAAAACMj9zYTE/X8ExP2/xMT9v8TE/b/ExP2/xMT9f9JUshihZ57+IaffP+Gn3z/hZ579oigfiYAAAAAAAAAAAAAAAAAAAAAGBj1oBIS9f8TE/b/ExP2/xMT9f8YGPWmiKB+PIWee/+Gn3z/hp98/4Wee/+HoH06AAAAAAAAAAAAAAAAAAAAACUl9xgVFfXOExP11BMT9dQUFPXQJib3HgAAAACGn3ymhp98/4affP+Gn3ymAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiKB+EIihf0CIoX9AiKB+EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADg/wAA4MMAAOCBAADggQAA8QEAAOeBAADDwwAAgf8AAIAPAACBDwAAgQ8AAMMPAAD//wAA//8AAA=="
          type="image/png">

    <script type="module">
        window.localStorage.setItem('location', JSON.stringify({
            pathname: './services/webgpu/src'
        }));

        const index = await import('./index.mjs');
    </script>

    <style>
        @import "./codicon.css";
        @import url('./services/webgpu/src/component/nk-ide/this/mjs/api/this/index.css');

        @font-face {
            font-family: 'Raleway-Regular';
            src: url('./services/webgpu/src/this/fonts/Raleway-Regular.ttf') format('truetype');
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            width: 100%;
            overflow-y: scroll;
            overflow-x: auto;
        }

        #gfx {
            width: 100%;
            display: none;
        }

        #content {
            width: 100%;
            display: none;
        }

        #error {
            text-align: center;
            width: 100%;
            color: red;
            display: none;
        }

        .visibleInput {
            display: flex;
        }
    </style>
</head>

<body>
<nk-memory data-field="mem_0">
    <template>
        <header>
			<pre class="__peer-header_logo_value">
						░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░░░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░░░░████░░░░░░█████░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░░████████░░░███████░░░░░░░░░░░░░░░░░░░░░░░░
						░░░██████████░█████████░░░░░░░░░░░░░░░░░░░░░░░
						░░████████████░░█████░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░██████████░░░░░█░░░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░░████████░░░░░░█████╗░██████╗░░██████╗░░░░░
						░░░░░░░░█████░░░░██╔══██╗██╔══██╗██╔════╝░░░░░
						░░░░░░█████████░░██║░░██║██████╔╝██║░░██╗░░░░░
						░░░░░███████████░██║░░██║██╔══██╗██║░░╚██╗░░░░
						░░░░░░█████████░░╚█████╔╝██║░░██║╚██████╔╝░░░░
						░░░░░░░███████░░░░╚════╝░╚═╝░░╚═╝░╚═════╝░░░░░
						░░░░░░░░░███░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
						░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░</pre>
        </header>
        <div class="container">
            <div class="nk-shared-protocol">
                <slot name="nk-shared-protocol"></slot>
            </div>
            <div class="wrapper">
                <h2>Scheduler</h2>
                <div class="settings">
                    <div class="item hardwareConcurrency"><span class="key">Колличество логических процессоров для воркеров:</span><span
                            class="value"></span></div>
                </div>
                <div class="memory-queue"></div>
            </div>
            <div class="nk-git">
                <h2>DevOps</h2>
                <slot name="nk-git"></slot>
            </div>
        </div>
        <nk-git
                slot="nk-git"
                data-field="nk-git"
        >
            <template>
                <div class="nk-git__container">
                    <slot name="nk-settings"></slot>
                    <div class="run"></div>
                    <div class="settings">
                        <div class="settings__block_0">
                            <mss-input
                                    disabled
                                    slot="mss-input"
                                    data-field="input_0"
                            >
                                <template>
                                    <div class="container">
                                        <input readonly id="input"
                                               placeholder="https://github.com/ElenaSidneva/yoga_studio"
                                               value="https://github.com/ElenaSidneva/yoga_studio" />
                                    </div>
                                </template>
                            </mss-input>
                            <fer-select
                                    disabled
                                    slot="fer-select"
                                    data-field="select_0"
                            >
                                <template>
                                    <div class="dropdown">
                                        <div class="wrapper">
                                            <div class="input">
                                                <button placeholder="Значение ещё не существует" class="button"
                                                        type="button"></button>
                                            </div>
                                            <div class="button_arrow">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                     viewBox="0 0 16 16" fill="none">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                          d="M7.99994 8.93934L11.4696 5.46967L12.5303 6.53033L8.53027 10.5303C8.23738 10.8232 7.76251 10.8232 7.46961 10.5303L3.46961 6.53033L4.53027 5.46967L7.99994 8.93934Z"
                                                          fill="#0D4CD3" />
                                                </svg>
                                            </div>
                                        </div>
                                        <ul class="list">
                                            <li style="text-align: center;" class="list-item">
                                                6
                                            </li>
                                            <li style="text-align: center;" class="list-item">
                                                12
                                            </li>
                                            <li style="text-align: center;" class="list-item">
                                                32
                                            </li>
                                        </ul>
                                        <input class="input_hidden" type="text" name="select-category"
                                               value="Фильтр 1" />
                                    </div>
                                </template>
                            </fer-select>
                        </div>
                        <div class="settings__block_1">
                            <div id="controls">
                                <button class="button" id="mount">Mount</button>
                                <button class="button disabled" id="run">Run</button>
                                <button class="button disabled" id="clear">Clear</button>
                            </div>
                            <div class="nk-git__status">
                                <div class="progress">
                                    <div class="progress_label"></div>
                                    <div class="indeterminate-progress-bar">
                                        <div class="indeterminate-progress-bar-value"></div>
                                    </div>
                                    <progress class="progress-bar" max="100" value="0"></progress>
                                </div>
                                <div class="nk-git__label">
                                    <div class="error"></div>
                                    <div class="clear"></div>
                                    <div class="status"></div>
                                    <div class="enumerating"></div>
                                    <div class="counting"></div>
                                    <div class="compressing"></div>
                                    <div class="total"></div>
                                    <div class="clone"></div>
                                    <div class="listFiles"></div>
                                    <div class="copy-to-opfs"></div>
                                    <div class="refresh-opfs"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <slot name="nk-opfs"></slot>
                    <slot name="mss-settings"></slot>
                </div>

                <nk-settings
                        slot="nk-settings"
                        data-field="nk-settings"
                >
                    <template>
                        <div class="settings">
                            <div class="wrapper">
                                <!--                                <button class="fonts-button disabled">Загрузить шрифт</button>-->
                                <!--                                <input type="file" id="font-input">-->
                                <!--                                <div class="test">-->
                                <!--                                    <p id="test">Upload a font to change me!</p>-->
                                <!--                                </div>-->
                            </div>
                        </div>
                    </template>
                </nk-settings>

                <nk-opfs
                        slot="nk-opfs"
                        data-field="nk-opfs"
                >
                    <template>
                        <div class="nk-opfs">
                            <div class="container">
                                <div id="storageEstimate"></div>
                                <main>
                                    <span class="spinner">⏳</span> Analyzing Origin Private File System
                                </main>
                                <dialog class="confirm-dialog">
                                    <form method="dialog">
                                        <p>Do you really want to delete the <span></span> <code></code>?</p>
                                        <div>
                                            <button type="cancel" class="cancel-button" value="cancel">Cancel</button>
                                            <button type="submit" class="confirm-button" value="delete">
                                                Confirm
                                            </button>
                                        </div>
                                    </form>
                                </dialog>
                                <dialog class="error-dialog">
                                    <form method="dialog">
                                        <p></p>
                                        <div>
                                            <button type="submit" class="confirm-button" value="ok">OK</button>
                                        </div>
                                    </form>
                                </dialog>
                                <dialog class="edit-dialog">
                                    <form method="dialog">
                                        <div class="codemirror-settings">
                                            <button type="submit" class="confirm-button" value="save">
                                                Сохранить
                                            </button>
                                            <button type="submit" class="cancel-button" value="cancel">
                                                Отмена
                                            </button>
                                        </div>
                                        <div id="html-editor" class="textarea edit-file" spellcheck="false"></div>
                                    </form>
                                </dialog>
                            </div>
                        </div>
                    </template>
                </nk-opfs>

                <mss-settings
                        slot="mss-settings"
                        data-field="mss-settings"
                >
                    <template>
                        <div data-exclusion id="swagger">
                            <div class="swagger-menu">
                                <input class="input" id="describe" type="text"
                                       placeholder="Введите название describe блока">
                                <button class="swagger-save">Сохранить тесты</button>
                                <button class="swagger-reset">Сбросить блоки it</button>
                            </div>
                            <div id="swagger-ui"></div>
                        </div>
                    </template>
                </mss-settings>
            </template>
        </nk-git>
    </template>
</nk-memory>
<script type="module">
    import {Fonts} from './services/webgpu/src/fonts.mjs';

    await Fonts('Raleway', 'Raleway-Regular.ttf');
    await Fonts('Raleway-ExtraBold', 'Raleway-ExtraBold.ttf');

    let normalizeLocation = window.location.pathname
    if(!normalizeLocation.endsWith('/')) {
        normalizeLocation = normalizeLocation.split('/')
        normalizeLocation.pop()
        normalizeLocation = `${normalizeLocation.join('/')}/`
    }

    navigator.serviceWorker.register('./sw.mjs', {
        type: 'module',
        scope: '/'
    }).then((registration) => {
        console.log('Service worker registered successfully', registration);
        if (!navigator.serviceWorker.controller) {
            navigator.serviceWorker.addEventListener('message', (event) => {
                // if (event?.data?.type === 'SW_ACTIVATED') {
                //     window.location.reload();
                // }
            });
        }
    }).catch((err) => {
        console.log('Service worker registration failed: ', err);
    });

    navigator.serviceWorker.register('./sw.mjs', {
        type: 'module',
        scope: normalizeLocation
    }).then((registration) => {
        console.log('Service worker registered successfully', registration);
        if (!navigator.serviceWorker.controller) {
            navigator.serviceWorker.addEventListener('message', (event) => {
                if (event?.data?.type === 'SW_ACTIVATED') {
                    window.location.reload();
                }
            });
        }
    }).catch((err) => {
        console.log('Service worker registration failed: ', err);
    });

    navigator.serviceWorker.register('./sw.mjs', {
        type: 'module',
        scope: `${normalizeLocation}sw/`
    }).then((registration) => {
        console.log('Service worker registered successfully', registration);
        if (!navigator.serviceWorker.controller) {
            navigator.serviceWorker.addEventListener('message', (event) => {
                // console.log('ddddddddddddddddddddddddddddddddddddddddddddddddd')
                // if (event?.data?.type === 'SW_ACTIVATED') {
                //     window.location.reload();
                // }
            });
        }
    }).catch((err) => {
        console.log('Service worker registration failed: ', err);
    });
</script>
</body>
</html>
